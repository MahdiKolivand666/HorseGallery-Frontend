
> horse-gallery-frontend@0.1.0 test:login
> tsx test-login-flow.ts

๐ ุดุฑูุน ุชุณุช Flow Login ู ุจุฑุฑุณ ุงููุช...

๐ API Base URL: http://localhost:4001


๐ ุชุณุชโูุง ุงููุช ูพุงู...
  ุชุณุช Rate Limiting...
  ุชุณุช Token Security...

๐ค ุชุณุช Flow ฺฉุงุฑุจุฑ ุฌุฏุฏ...
  Step 1: ุงุฑุณุงู OTP...

โณ ุชุณุช Flow ฺฉุงุฑุจุฑ Pending...

โฐ ุชุณุช ุงููุถุง OTP...

โ ุชุณุช Validation ูุฑูุฏโูุง...

๐ ุชุณุช ูุฏุฑุช Session...

โ๏ธ ุชุณุช Error Handling...


================================================================================
๐ ฺฏุฒุงุฑุด ุชุณุช Flow Login ู ุจุฑุฑุณ ุงููุช
================================================================================

๐ฆ Security Basics
--------------------------------------------------------------------------------
  โ SQL Injection Protection: ุณุณุชู ุฏุฑ ุจุฑุงุจุฑ SQL Injection ูุญุงูุธุช ุดุฏู ุงุณุช: '; DROP TABLE users; --
     ๐ ุฌุฒุฆุงุช: {
  "input": "'; DROP TABLE users; --",
  "status": 400
}
  โ SQL Injection Protection: ุณุณุชู ุฏุฑ ุจุฑุงุจุฑ SQL Injection ูุญุงูุธุช ุดุฏู ุงุณุช: ' OR '1'='1
     ๐ ุฌุฒุฆุงุช: {
  "input": "' OR '1'='1",
  "status": 400
}
  โ SQL Injection Protection: ุณุณุชู ุฏุฑ ุจุฑุงุจุฑ SQL Injection ูุญุงูุธุช ุดุฏู ุงุณุช: 09123456789' UNION SELECT * FROM users--
     ๐ ุฌุฒุฆุงุช: {
  "input": "09123456789' UNION SELECT * FROM users--",
  "status": 400
}
  โ XSS Protection: ุณุณุชู ุฏุฑ ุจุฑุงุจุฑ XSS ูุญุงูุธุช ุดุฏู ุงุณุช: <script>alert("XSS")</script>
     ๐ ุฌุฒุฆุงุช: {
  "input": "<script>alert(\"XSS\")</script>",
  "status": 400
}
  โ XSS Protection: ุณุณุชู ุฏุฑ ุจุฑุงุจุฑ XSS ูุญุงูุธุช ุดุฏู ุงุณุช: javascript:alert("XSS")
     ๐ ุฌุฒุฆุงุช: {
  "input": "javascript:alert(\"XSS\")",
  "status": 400
}
  โ XSS Protection: ุณุณุชู ุฏุฑ ุจุฑุงุจุฑ XSS ูุญุงูุธุช ุดุฏู ุงุณุช: <img src=x onerror=alert("XSS")>
     ๐ ุฌุฒุฆุงุช: {
  "input": "<img src=x onerror=alert(\"XSS\")>",
  "status": 400
}
  โ Rate Limiting: ุณุณุชู Rate Limiting ุฏุงุฑุฏ
     ๐ ุฌุฒุฆุงุช: {
  "rateLimited": true
}
  โ Token Validation: ุณุณุชู token ูุง ูุงูุนุชุจุฑ ุฑุง ุฑุฏ ููโฺฉูุฏ
     ๐ก ูพุดููุงุฏ: Backend ุจุงุฏ token validation ููโุชุฑ ุฏุงุดุชู ุจุงุดุฏ
     ๐ ุฌุฒุฆุงุช: {
  "status": 429,
  "data": {
    "statusCode": 429,
    "message": [
      "ุชุนุฏุงุฏ ุฏุฑุฎูุงุณุชโูุง ุดูุง ุจุด ุงุฒ ุญุฏ ูุฌุงุฒ ุงุณุช. ูุทูุงู ฺฉู ุตุจุฑ ฺฉูุฏ"
    ],
    "timestamp": "2025-12-22T17:04:08.829Z",
    "path": "/auth/me",
    "method": "GET"
  }
}

๐ฆ New User Flow
--------------------------------------------------------------------------------
  โ Send OTP: ุงุฑุณุงู OTP ูุงูููู: ุชุนุฏุงุฏ ุฏุฑุฎูุงุณุชโูุง ุดูุง ุจุด ุงุฒ ุญุฏ ูุฌุงุฒ ุงุณุช. ูุทูุงู ฺฉู ุตุจุฑ ฺฉูุฏ
     ๐ ุฌุฒุฆุงุช: {
  "status": 429,
  "data": {
    "statusCode": 429,
    "message": [
      "ุชุนุฏุงุฏ ุฏุฑุฎูุงุณุชโูุง ุดูุง ุจุด ุงุฒ ุญุฏ ูุฌุงุฒ ุงุณุช. ูุทูุงู ฺฉู ุตุจุฑ ฺฉูุฏ"
    ],
    "timestamp": "2025-12-22T17:04:08.830Z",
    "path": "/auth/send-otp",
    "method": "POST"
  }
}

๐ฆ OTP Expiration
--------------------------------------------------------------------------------
  โ Expired OTP Handling: ุณุณุชู OTP ูููุถ ุดุฏู ุฑุง ุฑุฏ ููโฺฉูุฏ
     ๐ก ูพุดููุงุฏ: Backend ุจุงุฏ OTP ูููุถ ุดุฏู ุฑุง ุฑุฏ ฺฉูุฏ
     ๐ ุฌุฒุฆุงุช: {
  "status": 429,
  "data": {
    "statusCode": 429,
    "message": [
      "ุชุนุฏุงุฏ ุฏุฑุฎูุงุณุชโูุง ุดูุง ุจุด ุงุฒ ุญุฏ ูุฌุงุฒ ุงุณุช. ูุทูุงู ฺฉู ุตุจุฑ ฺฉูุฏ"
    ],
    "timestamp": "2025-12-22T17:04:08.834Z",
    "path": "/auth/verify-otp",
    "method": "POST"
  }
}

๐ฆ Input Validation
--------------------------------------------------------------------------------
  โ Phone Validation: ุดูุงุฑู ฺฉูุชุงู: ุดูุงุฑู ูุงูุนุชุจุฑ ุฑุฏ ูุดุฏ: ุดูุงุฑู ฺฉูุชุงู
     ๐ก ูพุดููุงุฏ: Backend ุจุงุฏ validation ููโุชุฑ ุจุฑุง ุดูุงุฑู ููุจุงู ุฏุงุดุชู ุจุงุดุฏ
     ๐ ุฌุฒุฆุงุช: {
  "phone": "123",
  "status": 429
}
  โ Phone Validation: ุดูุงุฑู ุจููุฏ: ุดูุงุฑู ูุงูุนุชุจุฑ ุฑุฏ ูุดุฏ: ุดูุงุฑู ุจููุฏ
     ๐ก ูพุดููุงุฏ: Backend ุจุงุฏ validation ููโุชุฑ ุจุฑุง ุดูุงุฑู ููุจุงู ุฏุงุดุชู ุจุงุดุฏ
     ๐ ุฌุฒุฆุงุช: {
  "phone": "091234567890123",
  "status": 429
}
  โ Phone Validation: ุดูุงุฑู ุจุง ุญุฑูู: ุดูุงุฑู ูุงูุนุชุจุฑ ุฑุฏ ูุดุฏ: ุดูุงุฑู ุจุง ุญุฑูู
     ๐ก ูพุดููุงุฏ: Backend ุจุงุฏ validation ููโุชุฑ ุจุฑุง ุดูุงุฑู ููุจุงู ุฏุงุดุชู ุจุงุดุฏ
     ๐ ุฌุฒุฆุงุช: {
  "phone": "abc12345678",
  "status": 429
}
  โ Phone Validation: ุดูุงุฑู ุฎุงู: ุดูุงุฑู ูุงูุนุชุจุฑ ุฑุฏ ูุดุฏ: ุดูุงุฑู ุฎุงู
     ๐ก ูพุดููุงุฏ: Backend ุจุงุฏ validation ููโุชุฑ ุจุฑุง ุดูุงุฑู ููุจุงู ุฏุงุดุชู ุจุงุดุฏ
     ๐ ุฌุฒุฆุงุช: {
  "phone": "",
  "status": 429
}
  โ๏ธ OTP Validation: ฺฉุฏ ฺฉูุชุงู: ฺฉุฏ ูุงูุนุชุจุฑ ููฺฉู ุงุณุช ุฑุฏ ูุดูุฏ: ฺฉุฏ ฺฉูุชุงู
     ๐ ุฌุฒุฆุงุช: {
  "otp": "123",
  "status": 429
}
  โ๏ธ OTP Validation: ฺฉุฏ ุจููุฏ: ฺฉุฏ ูุงูุนุชุจุฑ ููฺฉู ุงุณุช ุฑุฏ ูุดูุฏ: ฺฉุฏ ุจููุฏ
     ๐ ุฌุฒุฆุงุช: {
  "otp": "12345678",
  "status": 429
}
  โ๏ธ OTP Validation: ฺฉุฏ ุจุง ุญุฑูู: ฺฉุฏ ูุงูุนุชุจุฑ ููฺฉู ุงุณุช ุฑุฏ ูุดูุฏ: ฺฉุฏ ุจุง ุญุฑูู
     ๐ ุฌุฒุฆุงุช: {
  "otp": "abcdef",
  "status": 429
}
  โ๏ธ OTP Validation: ฺฉุฏ ุฎุงู: ฺฉุฏ ูุงูุนุชุจุฑ ููฺฉู ุงุณุช ุฑุฏ ูุดูุฏ: ฺฉุฏ ุฎุงู
     ๐ ุฌุฒุฆุงุช: {
  "otp": "",
  "status": 429
}

๐ฆ Session Management
--------------------------------------------------------------------------------
  โ๏ธ Token Structure: ุชุณุช Token Structure ูุงุฒ ุจู token ูุนุชุจุฑ ุฏุงุฑุฏ
     ๐ก ูพุดููุงุฏ: ุจุฑุง ุชุณุช ฺฉุงููุ ุจุงุฏ token ุงุฒ flow ูุงูุน ฺฏุฑูุชู ุดูุฏ

๐ฆ Error Handling
--------------------------------------------------------------------------------
  โ Invalid Endpoint: ุณุณุชู endpoint ูุงูุนุชุจุฑ ุฑุง ุจู ุฏุฑุณุช handle ูโฺฉูุฏ
     ๐ ุฌุฒุฆุงุช: {
  "status": 404
}
  โ Missing Required Fields: ุณุณุชู ููุฏูุง ุงุฌุจุงุฑ ุฑุง validate ููโฺฉูุฏ
     ๐ก ูพุดููุงุฏ: Backend ุจุงุฏ validation ุจุฑุง ููุฏูุง ุงุฌุจุงุฑ ุฏุงุดุชู ุจุงุดุฏ
     ๐ ุฌุฒุฆุงุช: {
  "status": 429
}

================================================================================
๐ ุฎูุงุตู ูุชุงุฌ:
================================================================================
  ฺฉู ุชุณุชโูุง: 21
  โ ูููู: 8
  โ ูุงูููู: 8
  โ๏ธ  ูุดุฏุงุฑ: 5

================================================================================
๐ ูุดฺฉูุงุช ุงููุช ุดูุงุณุง ุดุฏู:
================================================================================

  โ Token Validation
     ุณุณุชู token ูุง ูุงูุนุชุจุฑ ุฑุง ุฑุฏ ููโฺฉูุฏ
     ๐ก Backend ุจุงุฏ token validation ููโุชุฑ ุฏุงุดุชู ุจุงุดุฏ

  โ Expired OTP Handling
     ุณุณุชู OTP ูููุถ ุดุฏู ุฑุง ุฑุฏ ููโฺฉูุฏ
     ๐ก Backend ุจุงุฏ OTP ูููุถ ุดุฏู ุฑุง ุฑุฏ ฺฉูุฏ

  โ Phone Validation: ุดูุงุฑู ฺฉูุชุงู
     ุดูุงุฑู ูุงูุนุชุจุฑ ุฑุฏ ูุดุฏ: ุดูุงุฑู ฺฉูุชุงู
     ๐ก Backend ุจุงุฏ validation ููโุชุฑ ุจุฑุง ุดูุงุฑู ููุจุงู ุฏุงุดุชู ุจุงุดุฏ

  โ Phone Validation: ุดูุงุฑู ุจููุฏ
     ุดูุงุฑู ูุงูุนุชุจุฑ ุฑุฏ ูุดุฏ: ุดูุงุฑู ุจููุฏ
     ๐ก Backend ุจุงุฏ validation ููโุชุฑ ุจุฑุง ุดูุงุฑู ููุจุงู ุฏุงุดุชู ุจุงุดุฏ

  โ Phone Validation: ุดูุงุฑู ุจุง ุญุฑูู
     ุดูุงุฑู ูุงูุนุชุจุฑ ุฑุฏ ูุดุฏ: ุดูุงุฑู ุจุง ุญุฑูู
     ๐ก Backend ุจุงุฏ validation ููโุชุฑ ุจุฑุง ุดูุงุฑู ููุจุงู ุฏุงุดุชู ุจุงุดุฏ

  โ Phone Validation: ุดูุงุฑู ุฎุงู
     ุดูุงุฑู ูุงูุนุชุจุฑ ุฑุฏ ูุดุฏ: ุดูุงุฑู ุฎุงู
     ๐ก Backend ุจุงุฏ validation ููโุชุฑ ุจุฑุง ุดูุงุฑู ููุจุงู ุฏุงุดุชู ุจุงุดุฏ

  โ Missing Required Fields
     ุณุณุชู ููุฏูุง ุงุฌุจุงุฑ ุฑุง validate ููโฺฉูุฏ
     ๐ก Backend ุจุงุฏ validation ุจุฑุง ููุฏูุง ุงุฌุจุงุฑ ุฏุงุดุชู ุจุงุดุฏ

================================================================================
โ ุชุณุชโูุง ฺฉุงูู ุดุฏ!
================================================================================

